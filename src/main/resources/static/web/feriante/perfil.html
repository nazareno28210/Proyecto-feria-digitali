<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Perfil - Feria Digital</title>
    <link rel="stylesheet" href="/web/css/global.css">
    <link rel="stylesheet" href="/web/feriante/perfil.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
</head>
<body>

<header>
    <div class="header-content">
        <h1>Feria Digital</h1>
        <a href="/web/ferias.html" class="btn btn-header">Ver Ferias</a>
    </div>
</header>

<main>
    <div class="perfil-layout">
        <div class="perfil-container">
            <div class="perfil-foto-container">
                <img
                        src="/img/default-user.png"
                        alt="Foto de perfil"
                        class="perfil-foto"
                        id="fotoPerfil"
                >

                <input
                        type="file"
                        id="inputFotoPerfil"
                        accept="image/*"
                        hidden
                >

                <button
                        class="btn btn-edit perfil-foto-btn"
                        onclick="document.getElementById('inputFotoPerfil').click()"
                >
                    Cambiar foto
                </button>
            </div>
            <h1>Mi Perfil de Feriante</h1>

            <h2>Datos de Usuario</h2>
            <div class="perfil-card">
                <p><strong>Email:</strong> <span id="usuario-email"></span></p>
                <p><strong>Nombre:</strong> <span id="usuario-nombre"></span></p>
                <p><strong>Apellido:</strong> <span id="usuario-apellido"></span></p>
                <p><strong>Fecha de Registro:</strong> <span id="usuario-fecha"></span></p>
            </div>

            <div class="header-card">
                <h2>Datos de Feriante</h2>
                <button id="btn-edit-feriante" class="btn btn-edit">Editar</button>
            </div>

            <div class="perfil-card" id="feriante-view">
                <p><strong>Emprendimiento:</strong> <span id="feriante-nombre"></span></p>
                <p><strong>Descripci√≥n:</strong> <span id="feriante-desc"></span></p>
                <p><strong>Tel√©fono:</strong> <span id="feriante-tel"></span></p>
                <p><strong>Email Emprendimiento:</strong> <span id="feriante-email"></span></p>
            </div>

            <div class="perfil-card edit-mode" id="feriante-edit">
                <div class="form-group">
                    <label>Nombre Emprendimiento</label>
                    <input type="text" id="edit-feriante-nombre">
                </div>
                <div class="form-group">
                    <label>Descripci√≥n</label>
                    <textarea id="edit-feriante-desc" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label>Tel√©fono</label>
                    <input type="text" id="edit-feriante-tel">
                </div>
                <div class="form-group">
                    <label>Email Emprendimiento</label>
                    <input type="email" id="edit-feriante-email">
                </div>
                <div class="form-actions">
                    <button id="btn-cancel-feriante" class="btn btn-cancel">Cancelar</button>
                    <button id="btn-save-feriante" class="btn btn-save">Guardar Cambios</button>
                </div>
            </div>

            <div class="header-card">
                <h2>Mi Stand</h2>
                <div class="stand-toggle-container">
                    <span id="stand-status-label" class="status-badge">Cargando...</span>
                    <label class="switch">
                        <input type="checkbox" id="toggle-stand-activo">
                        <span class="slider round"></span>
                    </label>
                </div>
                <button id="btn-edit-stand" class="btn btn-edit">Editar</button>
            </div>

            <div class="perfil-card" id="stand-view">
                </div>

            <div class="perfil-card edit-mode" id="stand-edit">
                <div class="form-group">
                    <label>Nombre del Stand</label>
                    <input type="text" id="edit-stand-nombre">
                </div>
                <div class="form-group">
                    <label>Descripci√≥n del Stand</label>
                    <textarea id="edit-stand-desc" rows="3"></textarea>
                </div>
                <div class="form-actions">
                    <button id="btn-cancel-stand" class="btn btn-cancel">Cancelar</button>
                    <button id="btn-save-stand" class="btn btn-save">Guardar Cambios</button>
                </div>
            </div>

            <div class="acciones">
                <button id="cerrarSesion" class="btn-logout">Cerrar sesi√≥n</button>
            </div>
        </div>

        <div class="perfil-acciones">
            <a href="/web/feriante/misproductos.html" class="dashboard-card">
                <div class="icon">üõçÔ∏è</div>
                <h3>Gestionar Mis Productos</h3>
                <p>Agregar, editar o eliminar los productos de tu stand.</p>
            </a>

            <a id="card-mis-ferias" class="dashboard-card" href="#">
                <div class="icon">üé™</div>
                <h3>Mis Ferias Asignadas</h3>
                <div id="ferias-card-body">
                    <p>Cargando informaci√≥n de ferias...</p>
                </div>
            </a>

            <a href="/web/cambiar-contrasena.html" class="dashboard-card action-blue">
                <div class="icon">üîí</div>
                <h3>Cambiar Contrase√±a</h3>
                <p>Actualiza tu clave de acceso de forma segura.</p>
            </a>
        </div>
    </div>
</main>

<footer>
    <p>Proyecto Feria Digital ‚Äî Desarrollado por Nazareno Guardia y Mansilla Denis. Alumnos CENT 35.</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
<script src="/web/feriante/perfil.js"></script>
</body>
</html>